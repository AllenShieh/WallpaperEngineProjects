/**
 * Flurry jQuery Plugin
 *
 * Flurry is an easy-to-use animated snow plugin for jQuery. It takes advantage
 * of CSS transforms, CSS transitions and requestAnimationFrame to provide
 * smooth animation for modern browsers.. Props to Jonathan Nicol @f6design
 * for boilerplate code
 * (see http://jonathannicol.com/blog/2012/05/06/a-jquery-plugin-boilerplate/)
 *
 * @link      https://github.com/joshmcrty/Flurry
 * @version   1.0.2
 * @author    Josh McCarty <josh@joshmccarty.com>
 * @copyright 2016 Josh McCarty
 * @license   https://github.com/joshmcrty/Flurry/blob/master/LICENSE GPLv2
 */
!function(a,b){function d(a,b){function e(){var f=(new Date).getTime(),g=f-c;g>=b&&(a.call(),c=(new Date).getTime()),d.value=window.requestAnimationFrame(e)}var c=(new Date).getTime(),d=new Object;return d.value=window.requestAnimationFrame(e),d}function e(a){window.cancelAnimationFrame?window.cancelAnimationFrame(a.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(a.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(a.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(a.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(a.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(a.value):clearInterval(a)}function f(){var a=document.body||document.documentElement,c=a.style,d=c.transition!==b||c.WebkitTransition!==b||c.MozTransition!==b||c.MsTransition!==b||c.OTransition!==b;return d}function g(a,b){return Math.floor(Math.random()*(b-a+1)+a)}function h(b,c,d){var e=1===b.character.length?b.character:b.character.charAt(Math.round(g(0,b.character.length-1))),h=g(-Math.abs(b.wind),d+Math.abs(b.wind)),i=h+g(b.wind-b.windVariance,b.wind+b.windVariance),j=g(b.small,b.large),k=b.speed/((g(1.2*j,.8*j)-b.small)/(b.large-b.small)+.5),l=b.height-j,m=g(b.wind-b.windVariance,b.wind+b.windVariance),n={transform:"translateX("+i+"px) translateY("+l+"px) rotate("+m+"deg)",opacity:0},o=a("<span></span>");o.html(e).css({color:b.blur&&j<(b.large+b.small)/2?"transparent":b.color,"text-shadow":b.blur&&j<(b.large+b.small)/2?"0 0 1px "+b.color:"none",display:"inline-block","line-height":1,margin:0,padding:"2px","pointer-events":"none","font-size":j+"px",opacity:b.startTransparency,position:"absolute",top:"-"+1.2*b.large+"px",transform:"translateX("+h+"px) translateY(0px)",transition:"transform "+k/1e3+"s linear, opacity "+k/1e3+"s "+b.opacityEasing,"z-index":b.zIndex}).appendTo(c),f?(o.on("transitionend.flurry",function(b){a(b.target).remove()}),window.requestAnimationFrame(function(){o.css(n)})):o.animate(n,k,"linear",function(){a(this).remove()})}function i(f,g){function l(){g.useRelative===!0&&"static"===k.css("position")&&k.css({position:"relative"});var b=a(document.createElement("div")).addClass("flurry-container").css({margin:0,padding:0,position:"absolute",top:0,right:0,left:0,height:g.height,overflow:g.overflow,"pointer-events":"none"}).prependTo(k),c=b.width();a(window).resize(function(){c=b.width()}),i.flakeInterval=d(function(){h(g,b,c)},g.frequency),o("onInit")}function m(a,b){return b?void(g[a]=parseInt(b)||b):g[a]}function n(){k.each(function(){var d=a(this);e(i.flakeInterval),d.find(".flurry-container").remove(),o("onDestroy"),d.removeData("plugin_"+c)})}function o(a){g[a]!==b&&g[a].call(j)}var i=this,j=f,k=a(f);return g=a.extend({height:k.height()>200?200:k.height(),useRelative:!k.is("body")},a.fn[c].defaults,g),a.each(g,function(a,b){parseInt(b)&&(g[a]=parseInt(b))}),l(),{option:m,destroy:n}}!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-Math.abs(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();var c="flurry";a.fn[c]=function(d){if("string"==typeof arguments[0]){var g,e=arguments[0],f=Array.prototype.slice.call(arguments,1);return this.each(function(){if(!a.data(this,"plugin_"+c)||"function"!=typeof a.data(this,"plugin_"+c)[e])throw new Error("Method "+e+" does not exist on jQuery."+c);g=a.data(this,"plugin_"+c)[e].apply(this,f)}),g!==b?g:this}if("object"==typeof d||!d)return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new i(this,d))})},a.fn[c].defaults={onInit:function(){},onDestroy:function(){},character:"❄",color:"white",frequency:100,speed:3e3,small:8,large:28,wind:40,windVariance:20,rotation:90,rotationVariance:180,startOpacity:1,endOpacity:0,opacityEasing:"cubic-bezier(1,.3,.6,.74)",blur:!0,overflow:"hidden",zIndex:9999}}(jQuery);
